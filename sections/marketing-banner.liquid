{{- 'section-marketing-banner.css' | asset_url | stylesheet_tag -}}

{% liquid
	assign blocks = section.blocks
%}

{%- if blocks.size > 0 -%}
  {%- capture carousel_contents_1 -%}
    {%- for block in blocks -%}
      <div class="item carousel-item snap-start shrink-0 w-full flex justify-center items-center">
        <div class="text-xxxs md:text-xxs uppercase text-grey-900 font-medium text-center tracking-lgSpacing" style="color: {{ block.settings.text_color }};">{{ block.settings.content }}</div>
      </div>
    {%- endfor -%}
  {%- endcapture -%}
  <div class="marketing-banner-wrapper py-px md:py-1.5 md:px-4 xl:px-0" style="background-color: {{ section.settings.bg_color }};">
    <div class="marketing-banner max-w-lg1 m-auto py-1.5 hidden md:block">
      <ul class="flex justify-between">
        {%- for block in blocks -%}
          <li class="basis-1/3 text-xxxs md:text-xxs uppercase text-grey-900 font-medium text-center tracking-lgSpacing md:py-0.5" style="color: {{ block.settings.text_color }};">{{ block.settings.content }}</li>
        {%- endfor -%}
      </ul>
    </div>
    <div class="marketing-banner max-w-lg1 m-auto py-1.5 md:hidden">
      {%- render 'carousel', class_buttons: 'opacity-0 pointer-events-none', class_wrap: '', class_main: '', class_inner: '', class: 'carousel-enable', class_dots: 'hidden', content: carousel_contents_1 -%}
    </div>
  </div>
{%- endif -%}


{%- if blocks.size > 0 -%}
  {%- capture src_url -%}
    {{- 'section-marketing-banner.js' | asset_url -}}
  {%- endcapture -%}
  {%- render 'atom_script', src: src_url, priority: 'normal', type: 'defer' -%}
{%- endif -%}

{% schema %}
  {
    "name": "Marketing Banner",
    "settings": [
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background color",
        "default": "#FFFFFF"
      }
    ],
    "blocks": [
      {
        "type": "item",
        "name": "Item",
        "settings": [
          {
            "type": "richtext",
            "id": "content",
            "label": "Message"
          }, {
            "type": "color",
            "id": "text_color",
            "label": "Text color",
            "default": "#090F24"
          }
        ]
      }
    ],
    "max_blocks": 3,
    "presets": [
      {
        "name": "Marketing Banner",
        "blocks": [
          {
            "type": "item"
          }, {
            "type": "item"
          }, {
            "type": "item"
          }

        ]
      }
    ]
  }
{% endschema %}